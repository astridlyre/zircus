!function(){"use strict";const t=t=>document.getElementById(t),e="https://zircus.herokuapp.com/api";const n=new class{constructor(){const t=localStorage.getItem("state");this.__state=JSON.parse(t)||{},this.__hooks=new Set,this.__notification=null,this.__notify=null}set(t,e){return this.__state[t]=e,this.save()}save(){return localStorage.setItem("state",JSON.stringify(this.__state)),this}get hooks(){return this.__hooks||{}}addHook(t){return this.__hooks.add(t),this}get inv(){return this.__state.inv||[]}set inv(t){return this.set("inv",t(this.inv)).update("inv")}get countries(){return this.__state.countries||[]}set countries(t){return this.set("countries",t(this.countries)).update("countries")}get cart(){return this.__state.cart||[]}set cart(t){return this.set("cart",t(this.cart)).update("cart")}get secret(){return this.__state.secret||null}set secret(t){return this.set("secret",t)}get currentItem(){return this.__state.currentItem||null}set currentItem(t){return this.set("currentItem",t)}get order(){return this.__state.order||null}set order(t){if(!this.__state.order||null==t)return this.set("order",t)}setNotify(t){this.__notify=t}notify(t,e,n){return this.__notify(t,e,n)}set currentNotification(t){this.__notification=t}get currentNotification(){return this.__notification}update(t){return this.hooks.forEach((({hook:e,key:n})=>t===n&&e({inv:this.inv,countries:this.countries,cart:this.cart}))),this}};class a{constructor(t,e,n){if(this.e=document.createElement(t),this.children=[],e&&Array.isArray(e)?e.forEach((t=>{this.e.classList.add(t)})):e&&"string"==typeof e&&this.e.classList.add(e),n)for(const[t,e]of Object.entries(n))this.e.setAttribute(t,e)}render(){return this.children.forEach((t=>{t instanceof a?this.e.appendChild(t.render()):this.e.innerText=t})),this.e}event(t,e){return this.e.addEventListener(t,(()=>e())),this}addChild(t){return this.children.push(t),this}}function i(t,e,n,a){const i=(t,e,n)=>{t.classList.remove(e),t.classList.add(n)};return Array.isArray(t)?t.forEach((t=>i(t,e,n))):i(t,e,n),a&&Array.isArray(a)&&a.forEach((t=>t())),t}function s(t,e){Array.isArray(t)?t.forEach((t=>t.textContent=e)):t.textContent=e}function o(t){return document.head.appendChild(new a("link",null,{href:t,rel:"prefetch",as:"image"}).render())}function r(t,e,n){let a=t;return()=>n(a=e(a))}const c=async()=>await fetch(`${e}/inv`).then((t=>t.json())).then((t=>n.inv=()=>[...t.cf,...t.pf,...t.ff])).catch((t=>{console.error("Unable to get inventory",t.message)}));function d(){let t=null;return t||document.documentElement.getAttribute("lang")}function l(t){return t[d()]}c(),setInterval(c,3e5);const u={Canada:{states:[{id:872,name:"Alberta",state_code:"AB"},{id:875,name:"British Columbia",state_code:"BC"},{id:867,name:"Manitoba",state_code:"MB"},{id:868,name:"New Brunswick",state_code:"NB"},{id:877,name:"Newfoundland and Labrador",state_code:"NL"},{id:878,name:"Northwest Territories",state_code:"NT"},{id:874,name:"Nova Scotia",state_code:"NS"},{id:876,name:"Nunavut",state_code:"NU"},{id:866,name:"Ontario",state_code:"ON"},{id:871,name:"Prince Edward Island",state_code:"PE"},{id:873,name:"Quebec",state_code:"QC"},{id:870,name:"Saskatchewan",state_code:"SK"},{id:869,name:"Yukon",state_code:"YT"}]},"United States":{states:[{id:1456,name:"Alabama",state_code:"AL"},{id:1400,name:"Alaska",state_code:"AK"},{id:1424,name:"American Samoa",state_code:"AS"},{id:1434,name:"Arizona",state_code:"AZ"},{id:1444,name:"Arkansas",state_code:"AR"},{id:1402,name:"Baker Island",state_code:"UM-81"},{id:1416,name:"California",state_code:"CA"},{id:1450,name:"Colorado",state_code:"CO"},{id:1435,name:"Connecticut",state_code:"CT"},{id:1399,name:"Delaware",state_code:"DE"},{id:1437,name:"District of Columbia",state_code:"DC"},{id:1436,name:"Florida",state_code:"FL"},{id:1455,name:"Georgia",state_code:"GA"},{id:1412,name:"Guam",state_code:"GU"},{id:1411,name:"Hawaii",state_code:"HI"},{id:1398,name:"Howland Island",state_code:"UM-84"},{id:1460,name:"Idaho",state_code:"ID"},{id:1425,name:"Illinois",state_code:"IL"},{id:1440,name:"Indiana",state_code:"IN"},{id:1459,name:"Iowa",state_code:"IA"},{id:1410,name:"Jarvis Island",state_code:"UM-86"},{id:1428,name:"Johnston Atoll",state_code:"UM-67"},{id:1406,name:"Kansas",state_code:"KS"},{id:1419,name:"Kentucky",state_code:"KY"},{id:1403,name:"Kingman Reef",state_code:"UM-89"},{id:1457,name:"Louisiana",state_code:"LA"},{id:1453,name:"Maine",state_code:"ME"},{id:1401,name:"Maryland",state_code:"MD"},{id:1433,name:"Massachusetts",state_code:"MA"},{id:1426,name:"Michigan",state_code:"MI"},{id:1438,name:"Midway Atoll",state_code:"UM-71"},{id:1420,name:"Minnesota",state_code:"MN"},{id:1430,name:"Mississippi",state_code:"MS"},{id:1451,name:"Missouri",state_code:"MO"},{id:1446,name:"Montana",state_code:"MT"},{id:1439,name:"Navassa Island",state_code:"UM-76"},{id:1408,name:"Nebraska",state_code:"NE"},{id:1458,name:"Nevada",state_code:"NV"},{id:1404,name:"New Hampshire",state_code:"NH"},{id:1417,name:"New Jersey",state_code:"NJ"},{id:1423,name:"New Mexico",state_code:"NM"},{id:1452,name:"New York",state_code:"NY"},{id:1447,name:"North Carolina",state_code:"NC"},{id:1418,name:"North Dakota",state_code:"ND"},{id:1431,name:"Northern Mariana Islands",state_code:"MP"},{id:4851,name:"Ohio",state_code:"OH"},{id:1421,name:"Oklahoma",state_code:"OK"},{id:1415,name:"Oregon",state_code:"OR"},{id:1448,name:"Palmyra Atoll",state_code:"UM-95"},{id:1422,name:"Pennsylvania",state_code:"PA"},{id:1449,name:"Puerto Rico",state_code:"PR"},{id:1461,name:"Rhode Island",state_code:"RI"},{id:1443,name:"South Carolina",state_code:"SC"},{id:1445,name:"South Dakota",state_code:"SD"},{id:1454,name:"Tennessee",state_code:"TN"},{id:1407,name:"Texas",state_code:"TX"},{id:1432,name:"United States Minor Outlying Islands",state_code:"UM"},{id:1413,name:"United States Virgin Islands",state_code:"VI"},{id:1414,name:"Utah",state_code:"UT"},{id:1409,name:"Vermont",state_code:"VT"},{id:1427,name:"Virginia",state_code:"VA"},{id:1405,name:"Wake Island",state_code:"UM-79"},{id:1462,name:"Washington",state_code:"WA"},{id:1429,name:"West Virginia",state_code:"WV"},{id:1441,name:"Wisconsin",state_code:"WI"},{id:1442,name:"Wyoming",state_code:"WY"}]}};n.countries=()=>u;const m={cartText:{en:"cart",fr:"panier"}},h={addToCart:{en:["out of stock","add to cart"],fr:["non disponible","ajouter"]},addNotificationText:t=>({en:`Added ${t.name.en} to cart`,fr:`Ajouté des ${t.name.fr} au panier`}),stockText:t=>({en:["None available",`Only ${t} left!`,"In stock"],fr:["Non disponible",`Il n'en reste que ${t}!`,"En stock"]})},p={removeNotificationText:t=>({en:`Removed ${t.name.en} from cart`,fr:`${t.name.fr} retiré du panier`}),removeBtnText:t=>({en:`Remove ${t.name.en} (size: ${t.size} quantity: ${t.quantity}) from cart`,fr:`Retirer ${t.name.fr} (taille: ${t.size} quantité: ${t.quantity}) du panier`})},f={formText:{Canada:{en:["Province","Postal Code"],fr:["Province","Code postal"]},"United States":{en:["State","Zip"],fr:["État","Code postal"]}}};const v=Stripe("pk_test_51J93KzDIzwSFHzdzCZtyRcjMvw8em0bhnMrVmkBHaMFHuc2nkJ156oJGNxuz0G7W4Jx0R6OCy2nBXYTt6U8bSYew00PIAPcntP"),_=/^[A-Za-z][0-9][A-Za-z] ?[0-9][A-Za-z][0-9]$/,y=/^[0-9]{5}(-[0-9]{4})?$/;function g(){const t=m.cartText;return{updateCartLink(e){n.cart.length>0?s(e,`${l(t)} (${n.cart.reduce(((t,e)=>t+e.quantity),0)})`):s(e,l(t))}}}function b(){class t extends HTMLElement{constructor(){super(),this.nav=this.querySelector("#nav"),this.cartLink=this.querySelector("#cart-link"),this.navScrollHandler=((t,e)=>{const n=(e,n,a)=>s=>i(t,e,n,[a,s]),a=n("slide-up","slide-down",(()=>c=!1)),s=n("slide-down","slide-up",(()=>c=!0)),o=()=>r=!1;let r=!1,c=!1,d=!1;return(t=!1)=>{const n=window.scrollY<100||e.next().value<=0;if(t)return a((()=>d=!0));d=!1,r?r=!0:setTimeout((()=>n&&c?a(o):n||c?void 0:s(o)),100)}})(this.nav,t.scrollState()),this.nav.addEventListener("focusin",(()=>this.navScrollHandler(!0))),this.nav.addEventListener("focusout",(()=>this.navScrollHandler(!1))),document.addEventListener("scroll",(()=>{this.navScrollHandler()})),this.updateCartLink([this.cartLink]),n.addHook({hook:()=>this.updateCartLink([this.cartLink]),key:"cart"})}static*scrollState(){let t=0,e=0;for(;;)[t,e]=[e,window.scrollY],yield e-t}}Object.assign(t.prototype,g()),customElements.get("nav-menu")||customElements.define("nav-menu",t)}const k=t=>{function e(){return t.classList.add("show"),n=!1}let n=!0,a=!1;return()=>a?a=!0:setTimeout((()=>{const i=window.scrollY>400;i&&n&&e(),i||n||(t.classList.remove("show"),n=!0),a=!1}),100)};!function(){const e=t("product-prefix");if(!e)return;const a=t("product-price"),s=t("product-price-text"),c=t("product-size"),d=t("product-image"),u=t("product-image-full"),m=t("product-image-full-image"),p=t("product-quantity"),f=t("product-color"),v=t("product-default-color"),_=t("add-to-cart"),y=t("go-to-cart"),g=t("go-to-cart-qty"),b=t("product-accent"),k=t("product-stock"),L=h.addToCart,C=h.addNotificationText,x=h.stockText;let E=f.value;const[N,$]=(()=>{let t=null;return[()=>t,a=>t=n.inv.find((t=>a?t.type===a.type:t.type===`${e.value}-${f.value}-${c.value}`))]})(),S=t=>N()&&(d.src=N().images[t]),A=r(!1,(t=>!t),(t=>S(t?"sm_b":"sm_a"))),w=r(!1,(t=>!t),(e=>{e?(m.src=N().images.lg_a,u.style.display="flex",t("nav").classList.add("hidden"),t("menu-mobile-btn").classList.add("hidden"),document.body.classList.add("hide-y")):(u.style.display="none",t("nav").classList.remove("hidden"),t("menu-mobile-btn").classList.remove("hidden"),document.body.classList.remove("hide-y"))})),T=t=>["a-400.png","b-400.png","a-1920.jpg"].forEach((n=>o(`/assets/img/products/masked/${e.value}-${t}-${n}`)));for(const t of f.children)T(t.value),t.value===v.value&&(t.setAttribute("selected",!0),b.classList.add(`${t.value}-before`),E=t.value);function I(){const t=n.cart.reduce(((t,e)=>t+e.quantity),0);g.innerText=""+(t>0?`(${t})`:"")}function q({inv:t,currentItem:e}=n){if(!t)return;const o=$(e);e&&(c.value=e.size,f.value=e.color,n.currentItem=null),i(b,`${E}-before`,`${f.value}-before`),E=f.value,o&&0!==o.quantity?function(t){const e=l(x(t.quantity));k.innerText=`${t.quantity>5?e[2]:e[1]}`,t.quantity<Number(p.value)&&(p.value=t.quantity),i(k,"out-stock","in-stock"),p.removeAttribute("disabled"),_.removeAttribute("disabled"),_.textContent=l(L)[1]}(o):(k.innerText=l(x(0))[0],i(k,"in-stock","out-stock"),p.setAttribute("disabled",!0),_.setAttribute("disabled",!0),_.innerText=l(L)[0]),S("sm_a"),s.textContent="$"+Number(a.value)*Number(p.value)}q(),I(),f.addEventListener("change",(()=>{S("sm_a"),q()})),p.addEventListener("input",(()=>{const t=N().quantity;Number(p.value)>t&&(p.value=t),s.textContent="$"+Number(p.value)*Number(a.value)})),c.addEventListener("input",(()=>q())),d.addEventListener("pointerover",(()=>A())),d.addEventListener("pointerleave",(()=>A())),d.addEventListener("click",(()=>w())),u.addEventListener("click",(()=>w())),_.addEventListener("click",(function(){const t=N();t.quantity-Number(p.value)<0||!t.quantity||(n.cart.find((e=>e.type===t.type))?function(t){const e=t=>({...t,quantity:t.quantity+Number(p.value)});n.cart=n=>n.map((n=>n.type===t.type?e(n):n))}(t):function(t){n.cart=e=>e.concat({...t,quantity:Number(p.value)})}(t),n.notify(l(C(t)),"green",(()=>location.assign(l({en:"/cart",fr:"/fr/panier"})))),_.blur())})),y.addEventListener("click",(()=>location.assign(l({en:"/cart",fr:"/fr/panier"})))),n.addHook({hook:q,key:"inv"}),n.addHook({hook:I,key:"cart"})}(),function(){if(!t("place-order"))return;0===n.cart.length&&location.assign("/");const s=t("checkout-name"),o=t("checkout-email"),r=t("checkout-street"),c=t("checkout-city"),u=t("checkout-state"),m=t("checkout-state-text"),h=t("checkout-country"),p=t("checkout-zip"),g=t("checkout-zip-text"),b=t("stripe-payment-modal"),k=t("stripe-payment-form"),L=t("pay-button"),C=t("card-error"),x=t("spinner"),E=t("button-text"),N=t("checkout-form"),$=t("cancel"),S=t("checkout-subtotal"),A=t("checkout-tax"),w=t("checkout-total"),T=t("checkout-product-template"),I=t("checkout-products"),q=f.formText;let M=!1;function z(t){t?(L.disabled=!0,x.classList.remove("hidden"),E.classList.add("hidden")):(L.disabled=!1,x.classList.add("hidden"),E.classList.remove("hidden"))}function H(){const t=n.cart.reduce(((t,e)=>t+e.price*e.quantity),0),e=t*((t,e)=>{if("Canada"!==t)return.05;switch(e){case"New Brunswick":case"Newfoundland and Labrador":case"Nova Scotia":case"Prince Edward Island":return.15;case"Ontario":return.13;default:return.05}})(h.value,u.value),a=t+e;S.textContent=`$${t.toFixed(2)}`,A.textContent=`$${e.toFixed(2)}`,w.textContent=`$${a.toFixed(2)}`}function O(t,e=[],n){t.textContent="",e.forEach((e=>{t.appendChild(new a("option",null,{value:n(e)}).addChild(n(e)).render())}))}function U(e){z(!1),e?(document.body.classList.add("hide-y"),t("blur").classList.add("blur"),b.classList.add("show-modal"),L.disabled=!0,t("payment-price").textContent=w.textContent):(document.body.classList.remove("hide-y"),t("blur").classList.remove("blur"),b.classList.remove("show-modal"),0===n.cart.length&&location.assign(l({en:"/thanks",fr:"/fr/merci"})))}async function P(){U(!0),z(!0);const a={lang:d(),update:n.secret,name:s.value,email:o.value,streetAddress:r.value,city:c.value,country:h.value,state:u.value,zip:p.value,items:n.cart.map((t=>({images:t.images,type:t.type,prefix:t.prefix,size:t.size,name:t.name,color:t.color,quantity:t.quantity})))};fetch(`${e}/orders/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((t=>t.json())).then((e=>{n.secret=e.clientSecret,n.order={id:e.id,name:e.name,email:e.email},t("payment-price").textContent=`$${e.total.toFixed(2)}`,function(e){if(M)return;M=!0;const a=v.elements(),s={base:{color:"#1a171b",fontFamily:"Nunito, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#1a171b"}},invalid:{fontFamily:"Nunito, sans-serif",color:"#fa755a",iconColor:"#fa755a"}},o=a.create("card",{style:s});o.mount("#card-element"),o.on("change",(t=>{L.disabled=t.empty,C.textContent=t.error?t.error.message:""})),k.addEventListener("submit",(a=>{a.preventDefault(),function(e,a,s){z(!0),e.confirmCardPayment(s,{payment_method:{card:a}}).then((e=>{return e.error?(a=e.error.message,z(!1),C.textContent=a,void setTimeout((()=>{C.textContent=""}),4e3)):(z(!1),n.cart=()=>[],n.secret=null,t("result-message").classList.remove("hidden"),L.disabled=!0,$.textContent="close",void i($,"btn__secondary","btn__primary"));var a}))}(v,o,e.clientSecret)}))}(e),z(!1)}))}function j(){const t=h.value;u.textContent="",O(u,n.countries[t].states,(t=>t.name)),m.textContent=q[t][d()][0],g.textContent=q[t][d()][1],p.setAttribute("pattern","Canada"===t?_.source:y.source),p.setAttribute("maxlength","Canada"===t?"7":"10"),p.setAttribute("size","Canada"===t?"7":"10"),H()}H(),function(){const t=new DocumentFragment;n.cart.forEach((e=>{const a=T.content.cloneNode(!0),i=a.querySelector("a"),s=a.querySelector("img"),o=a.querySelector("p"),r=d();return i.href=`/products/${e.name.en.toLowerCase().split(" ").join("-")}${"en"!==r?`-${r}`:""}.html`,i.addEventListener("click",(()=>n.currentItem={type:e.type,color:e.color,size:e.size})),s.src=e.images.sm_a,o.textContent=`${e.name[r]} (${e.size}) - ${e.quantity} x $${e.price}`,t.appendChild(a)})),I.appendChild(t)}(),O(h,Object.keys(n.countries),(t=>t)),j(),N.addEventListener("submit",(t=>{t.preventDefault(),P()})),$.addEventListener("click",(()=>U(!1))),h.addEventListener("input",(()=>j())),u.addEventListener("input",(()=>H())),p.addEventListener("input",(t=>{t.target.value=function(t){const e=t.toUpperCase();return"Canada"===h.value?6===e.length&&_.test(e)?e.substring(0,3)+" "+e.substring(3,6):e:6===e.length&&"-"!==e[5]?e.substring(0,5):e}(t.target.value,h.value)}))}(),function(){const e=t("cart-checkout");if(!e)return;const a=t("cart-subtotal"),i=t("cart-products"),s=t("cart-product-template"),o=t("cart-products-none"),r=p.removeNotificationText,c=p.removeBtnText;function u(){a.innerText=`$${n.cart.reduce(((t,e)=>t+e.price*e.quantity),0).toFixed(2)}`,n.cart.length>0?e.disabled=!1:e.disabled=!0}function m(){if(!n.cart.length)return o.style.display="block",u();o.style.display="none";const t=new DocumentFragment;return n.cart.forEach((e=>function(t,e){const a=s.content.cloneNode(!0),i=a.querySelector(".cart__product"),o=a.querySelector("a"),h=a.querySelector("img"),p=a.querySelector("p"),f=a.querySelector("span"),v=a.querySelector(".input"),_=a.querySelector("label"),y=a.querySelector("button"),g=d();return o.href=`/products/${t.name.en.toLowerCase().split(" ").join("-")}${"en"!==g?`-${g}`:""}.html`,o.addEventListener("click",(()=>n.currentItem={type:t.type,color:t.color,size:t.size})),h.src=t.images.sm_a,h.alt=`${t.name[g]} ${t.size} ${t.color} underwear`,p.textContent=`${t.name[g]} (${t.size})`,f.textContent="$"+t.price*t.quantity,v.value=t.quantity,v.id=t.type,v.setAttribute("name",`${t.name[g]} ${t.size} ${t.color}`),_.setAttribute("for",t.type),v.addEventListener("input",(()=>{v.value||(v.value=1);const e=n.inv.find((e=>e.type===t.type)).quantity;Number(v.value)>e&&(v.value=e),n.cart=e=>e.map((e=>e.id===t.id?{...e,quantity:Number(v.value)}:e)),f.textContent="$"+t.price*Number(v.value),u()})),y.setAttribute("aria-label",l(c(t))),y.addEventListener("click",(()=>{n.cart=e=>e.filter((e=>e.id!==t.id)),i.remove(),u(),n.notify(l(r(t)),"red",(()=>location.assign(o.href))),!n.cart.length&&m()})),e.appendChild(a)}(e,t))),i.appendChild(t),u()}m(),e.addEventListener("click",(()=>{n.cart.length>0&&location.assign(l({en:"/checkout",fr:"/fr/la-caisse"}))}))}(),b(),function(){class e extends HTMLElement{constructor(){super();const e=new a("button",["skip-to-content","small-spaced-bold"]).addChild(this.getAttribute("text")).render();e.addEventListener("click",(()=>t("main-content").focus())),this.appendChild(e)}}customElements.get("skip-to-content")||customElements.define("skip-to-content",e)}(),function(){class t extends HTMLElement{constructor(){super(),this._hidden=!0,this.classList.add("nav_mobile"),this.cartLink=this.querySelector("#cart-link-mobile"),this.list=this.querySelector("#menu-mobile-list"),this.list.addEventListener("click",(()=>this.hide())),this.button=this.querySelector("#menu-mobile-btn"),this.button.addEventListener("click",(()=>this._hidden?this.show():this.hide())),this.updateCartLink([this.cartLink]),n.addHook({hook:()=>this.updateCartLink([this.cartLink]),key:"cart"})}hide(){this._hidden=!0,this.list.classList.add("hide"),document.body.classList.remove("hide-y")}show(){this._hidden=!1,this.list.classList.remove("hide"),document.body.classList.add("hide-y")}}Object.assign(t.prototype,g()),customElements.get("nav-mobile")||customElements.define("nav-mobile",t)}(),function(){class t extends HTMLElement{constructor(){super(),this.button=this.querySelector("#to-top-button"),this.scrollHandler=k(this.button),this.button.addEventListener("click",(()=>{window.scroll({top:0}),this.button.blur()})),document.addEventListener("scroll",this.scrollHandler)}}customElements.get("to-top-button")||customElements.define("to-top-button",t)}(),(()=>{class t extends HTMLElement{constructor(){super(),this._images=new Array(Number(this.getAttribute("num-images"))).fill("").map(((t,e)=>`${this.getAttribute("image-path")}${e}.jpg`)),this._images.forEach((t=>o(t))),this._currentImage=1,this._imageEl=new a("img","section__hero_image",{src:this._images[this._currentImage],alt:this.getAttribute("alt"),title:this.getAttribute("title")}).render(),this._roundedBottom=new a("div",["bg-light","rounded-big-top","absolute","b-0","l-0"]).render(),this.appendChild(this._imageEl),this.appendChild(this._roundedBottom),this.classList.add("section__hero"),setInterval((()=>{this._imageEl.src=this._images[this.getCurrentImage()]}),4500)}getCurrentImage(){return this._currentImage===this._images.length-1?this._currentImage=0:++this._currentImage}}customElements.get("hero-image")||customElements.define("hero-image",t)})(),function(){const e=t("order-id");if(!e)return;n.order||location.assign("/");const a=t("user-name"),i=t("user-email"),s=n.order;e.textContent=s.id,a.textContent=s.name.split(" ")[0],i.textContent=s.email}(),function(){const n=t("contact-form");if(!n)return;const a=t("contact-name"),i=t("contact-email"),s=t("contact-message"),o=t("contact-button"),r=[a,i,s,o],c=function(){const e=t("modal");if(!e)return;const n=t("modal-heading"),a=t("modal-text"),i=t("modal-ok"),s=t("modal-cancel"),o=t("blur"),r=t("nav");function c(){o.classList.remove("blur"),r.classList.remove("blur"),document.body.classList.remove("hide-y"),s.classList.add("hidden"),e.classList.add("hidden"),n.textContent="",a.textContent="",i.textContent="",s.textContent=""}return function(t){t&&(o.classList.add("blur"),r.classList.add("blur"),document.body.classList.add("hide-y"),e.classList.remove("hidden"),n.textContent=t.heading,a.textContent=t.text,i.textContent=t.ok.text,i.addEventListener("click",(()=>c())),t.cancel?(s.classList.remove("hidden"),s.textContent=t.cancel.text,s.addEventListener("click",(()=>c())),s.focus()):i.focus())}}(),l={en:{error:["Error","ok"],default:["Success","ok","cancel"],message:(t,e)=>`Thanks for your message, ${t}! We'll get back to you at ${e} as soon as possible.`},fr:{error:["Error","ok"],default:["Succès","ok","annuler"],message:(t,e)=>`Merci pour votre message ${t}! Nous vous rappelleons à votre courriel ${e} dans les plus brefs délais.`}};n.addEventListener("submit",(t=>{t.preventDefault();const n={name:a.value,email:i.value,message:s.value};r.forEach((t=>{t.value="",t.disabled=!0})),fetch(`${e}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>t.json())).then((t=>{r.forEach((t=>{t.disabled=!1})),t.error?c({heading:l[d()].error[0],text:t.error,ok:{text:l[d()].error[1]}}):c({heading:l[d()].default[0],text:l[d()].message(t.name,t.email),ok:{text:l[d()].default[1]}})})).catch((t=>console.log(t)))}))}(),function(){const e=t("notification");if(!e)return;const a=t("notification-text");function s(t){a.textContent="",i(e,t,"hidden")}n.setNotify(((t,o,r)=>{n.currentNotification&&clearTimeout(n.currentNotification),function(t,n){a.textContent=t,i(e,"hidden",n)}(t,o),n.currentNotification=setTimeout((()=>s(o)),4e3),e.addEventListener("mouseenter",(()=>clearTimeout(n.currentNotification))),e.addEventListener("mouseleave",(()=>setTimeout((()=>s()),2e3))),e.onclick=()=>r()}))}(),function(){class t extends HTMLElement{constructor(){super(),this.tagLines=this.getAttribute("taglines").split("|");const t=this.tagLines[Math.floor(Math.random()*this.tagLines.length)],e=new a("h1","home__heading").render(),n=new a("span").render(),i=new a("span","teal").addChild(".").render();e.appendChild(n),e.appendChild(i),n.textContent=t,this.classList.add("home__heading_container"),this.appendChild(e)}}customElements.get("tag-line")||customElements.define("tag-line",t)}()}();
