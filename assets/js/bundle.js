!function(){"use strict";const e=e=>document.getElementById(e),t="https://zircus.herokuapp.com/api";const n=new class{constructor(){const e=localStorage.getItem("state");this.__state=JSON.parse(e)||{},this.__hooks=new Set,this.__notification=null,this.__notify=null}set(e,t){return this.__state[e]=t,this.save()}save(){return localStorage.setItem("state",JSON.stringify(this.__state)),this}get hooks(){return this.__hooks||{}}addHook(e){return this.__hooks.add(e),this}get inv(){return this.__state.inv||[]}set inv(e){return this.set("inv",e(this.inv)).update("inv")}get countries(){return this.__state.countries||[]}set countries(e){return this.set("countries",e(this.countries)).update("countries")}get cart(){return this.__state.cart||[]}set cart(e){return this.set("cart",e(this.cart)).update("cart")}get secret(){return this.__state.secret||null}set secret(e){return this.set("secret",e)}get currentItem(){return this.__state.currentItem||null}set currentItem(e){return this.set("currentItem",e)}get order(){return this.__state.order||null}set order(e){if(!this.__state.order||null==e)return this.set("order",e)}setNotify(e){this.__notify=e}notify(e,t,n){return this.__notify(e,t,n)}set currentNotification(e){this.__notification=e}get currentNotification(){return this.__notification}update(e){return this.hooks.forEach((({hook:t,key:n})=>e===n&&t({inv:this.inv,countries:this.countries,cart:this.cart}))),this}};class a{constructor(e,t,n){if(this.e=document.createElement(e),this.children=[],t&&Array.isArray(t)?t.forEach((e=>{this.e.classList.add(e)})):t&&"string"==typeof t&&this.e.classList.add(t),n)for(const[e,t]of Object.entries(n))this.e.setAttribute(e,t)}render(){return this.children.forEach((e=>{e instanceof a?this.e.appendChild(e.render()):this.e.innerText=e})),this.e}event(e,t){return this.e.addEventListener(e,(()=>t())),this}addChild(e){return this.children.push(e),this}}function o(e,t,n,a){const o=(e,t,n)=>{e.classList.remove(t),e.classList.add(n)};return Array.isArray(e)?e.forEach((e=>o(e,t,n))):o(e,t,n),a&&Array.isArray(a)&&a.forEach((e=>e())),e}function i(e,t){Array.isArray(e)?e.forEach((e=>e.textContent=t)):e.textContent=t}function s(e){return document.head.appendChild(new a("link",null,{href:e,rel:"prefetch",as:"image"}).render())}function r(e,t,n){let a=e;return()=>n(a=t(a))}const c=async()=>await fetch(`${t}/inv`).then((e=>e.json())).then((e=>n.inv=()=>[...e.cf,...e.pf,...e.ff])).catch((e=>{console.error("Unable to get inventory",e.message)}));function d(){let e=null;return e||document.documentElement.getAttribute("lang")}function u(e){return e[d()]}c(),setInterval(c,3e5),(e=>{if(!e)return;const t=["For your thunder down under","Guard the crown jewels","For your national treasure","A luxury condo for your privates","If you are here, you may be gay","Contain your thunder in style","A stylish shape for your bits","One person's junk is another's treasure"],n=["Pour votre tonnerre vers le bas sous","Garde les bijoux de la couronne","Pour votre tresor national","Un condo de luxe pour vos petit soldats","si vous l'etes, vous pourriez etre gai","Contenir votre tonnerre dans le style","Une forme elegante pour vos meches","La camelote d'une personne est le tresor d'une autre"];e.innerText=(e=>"en"===e?t[Math.floor(Math.random()*t.length)]:n[Math.floor(Math.random()*n.length)])(d())})(e("home-heading"));const l={Canada:{states:[{id:872,name:"Alberta",state_code:"AB"},{id:875,name:"British Columbia",state_code:"BC"},{id:867,name:"Manitoba",state_code:"MB"},{id:868,name:"New Brunswick",state_code:"NB"},{id:877,name:"Newfoundland and Labrador",state_code:"NL"},{id:878,name:"Northwest Territories",state_code:"NT"},{id:874,name:"Nova Scotia",state_code:"NS"},{id:876,name:"Nunavut",state_code:"NU"},{id:866,name:"Ontario",state_code:"ON"},{id:871,name:"Prince Edward Island",state_code:"PE"},{id:873,name:"Quebec",state_code:"QC"},{id:870,name:"Saskatchewan",state_code:"SK"},{id:869,name:"Yukon",state_code:"YT"}]},"United States":{states:[{id:1456,name:"Alabama",state_code:"AL"},{id:1400,name:"Alaska",state_code:"AK"},{id:1424,name:"American Samoa",state_code:"AS"},{id:1434,name:"Arizona",state_code:"AZ"},{id:1444,name:"Arkansas",state_code:"AR"},{id:1402,name:"Baker Island",state_code:"UM-81"},{id:1416,name:"California",state_code:"CA"},{id:1450,name:"Colorado",state_code:"CO"},{id:1435,name:"Connecticut",state_code:"CT"},{id:1399,name:"Delaware",state_code:"DE"},{id:1437,name:"District of Columbia",state_code:"DC"},{id:1436,name:"Florida",state_code:"FL"},{id:1455,name:"Georgia",state_code:"GA"},{id:1412,name:"Guam",state_code:"GU"},{id:1411,name:"Hawaii",state_code:"HI"},{id:1398,name:"Howland Island",state_code:"UM-84"},{id:1460,name:"Idaho",state_code:"ID"},{id:1425,name:"Illinois",state_code:"IL"},{id:1440,name:"Indiana",state_code:"IN"},{id:1459,name:"Iowa",state_code:"IA"},{id:1410,name:"Jarvis Island",state_code:"UM-86"},{id:1428,name:"Johnston Atoll",state_code:"UM-67"},{id:1406,name:"Kansas",state_code:"KS"},{id:1419,name:"Kentucky",state_code:"KY"},{id:1403,name:"Kingman Reef",state_code:"UM-89"},{id:1457,name:"Louisiana",state_code:"LA"},{id:1453,name:"Maine",state_code:"ME"},{id:1401,name:"Maryland",state_code:"MD"},{id:1433,name:"Massachusetts",state_code:"MA"},{id:1426,name:"Michigan",state_code:"MI"},{id:1438,name:"Midway Atoll",state_code:"UM-71"},{id:1420,name:"Minnesota",state_code:"MN"},{id:1430,name:"Mississippi",state_code:"MS"},{id:1451,name:"Missouri",state_code:"MO"},{id:1446,name:"Montana",state_code:"MT"},{id:1439,name:"Navassa Island",state_code:"UM-76"},{id:1408,name:"Nebraska",state_code:"NE"},{id:1458,name:"Nevada",state_code:"NV"},{id:1404,name:"New Hampshire",state_code:"NH"},{id:1417,name:"New Jersey",state_code:"NJ"},{id:1423,name:"New Mexico",state_code:"NM"},{id:1452,name:"New York",state_code:"NY"},{id:1447,name:"North Carolina",state_code:"NC"},{id:1418,name:"North Dakota",state_code:"ND"},{id:1431,name:"Northern Mariana Islands",state_code:"MP"},{id:4851,name:"Ohio",state_code:"OH"},{id:1421,name:"Oklahoma",state_code:"OK"},{id:1415,name:"Oregon",state_code:"OR"},{id:1448,name:"Palmyra Atoll",state_code:"UM-95"},{id:1422,name:"Pennsylvania",state_code:"PA"},{id:1449,name:"Puerto Rico",state_code:"PR"},{id:1461,name:"Rhode Island",state_code:"RI"},{id:1443,name:"South Carolina",state_code:"SC"},{id:1445,name:"South Dakota",state_code:"SD"},{id:1454,name:"Tennessee",state_code:"TN"},{id:1407,name:"Texas",state_code:"TX"},{id:1432,name:"United States Minor Outlying Islands",state_code:"UM"},{id:1413,name:"United States Virgin Islands",state_code:"VI"},{id:1414,name:"Utah",state_code:"UT"},{id:1409,name:"Vermont",state_code:"VT"},{id:1427,name:"Virginia",state_code:"VA"},{id:1405,name:"Wake Island",state_code:"UM-79"},{id:1462,name:"Washington",state_code:"WA"},{id:1429,name:"West Virginia",state_code:"WV"},{id:1441,name:"Wisconsin",state_code:"WI"},{id:1442,name:"Wyoming",state_code:"WY"}]}};n.countries=()=>l;const m=Stripe("pk_test_51J93KzDIzwSFHzdzCZtyRcjMvw8em0bhnMrVmkBHaMFHuc2nkJ156oJGNxuz0G7W4Jx0R6OCy2nBXYTt6U8bSYew00PIAPcntP"),h=/^[A-Za-z][0-9][A-Za-z] ?[0-9][A-Za-z][0-9]$/,f=/^[0-9]{5}(-[0-9]{4})?$/;!function(){const t=e("product-prefix");if(!t)return;const a=e("product-price"),i=e("product-price-text"),c=e("product-size"),d=e("product-image"),l=e("product-image-full"),m=e("product-image-full-image"),h=e("product-quantity"),f=e("product-color"),p=e("product-default-color"),v=e("add-to-cart"),y=e("go-to-cart"),_=e("go-to-cart-qty"),g=e("product-accent"),b=e("product-stock"),k={en:["out of stock","add to cart"],fr:["non disponible","ajouter"]};let C=f.value;const L=e=>({en:["None available",`Only ${e} left!`,"In stock"],fr:["Non disponible",`Il n'en reste que ${e}!`,"En stock"]}),[x,$]=(()=>{let e=null;return[()=>e,a=>e=n.inv.find((e=>a?e.type===a.type:e.type===`${t.value}-${f.value}-${c.value}`))]})(),N=e=>x()&&(d.src=x().images[e]),E=r(!1,(e=>!e),(e=>N(e?"sm_b":"sm_a"))),A=r(!1,(e=>!e),(t=>{t?(m.src=x().images.lg_a,l.style.display="flex",e("nav").classList.add("hidden"),e("menu-mobile-btn").classList.add("hidden"),document.body.classList.add("hide-y")):(l.style.display="none",e("nav").classList.remove("hidden"),e("menu-mobile-btn").classList.remove("hidden"),document.body.classList.remove("hide-y"))})),w=e=>["a-400.png","b-400.png","a-1920.jpg"].forEach((n=>s(`/assets/img/products/masked/${t.value}-${e}-${n}`)));for(const e of f.children)w(e.value),e.value===p.value&&(e.setAttribute("selected",!0),g.classList.add(`${e.value}-before`),C=e.value);function I(){const e=n.cart.reduce(((e,t)=>e+t.quantity),0);_.innerText=""+(e>0?`(${e})`:"")}function S({inv:e,currentItem:t}=n){if(!e)return;const s=$(t);t&&(c.value=t.size,f.value=t.color,n.currentItem=null),o(g,`${C}-before`,`${f.value}-before`),C=f.value,s&&0!==s.quantity?function(e){const t=u(L(e.quantity));b.innerText=`${e.quantity>5?t[2]:t[1]}`,e.quantity<Number(h.value)&&(h.value=e.quantity),o(b,"out-stock","in-stock"),h.removeAttribute("disabled"),v.removeAttribute("disabled"),v.textContent=u(k)[1]}(s):(b.innerText=u(L(0))[0],o(b,"in-stock","out-stock"),h.setAttribute("disabled",!0),v.setAttribute("disabled",!0),v.innerText=u(k)[0]),N("sm_a"),i.textContent="$"+Number(a.value)*Number(h.value)}S(),I(),f.addEventListener("change",(()=>{N("sm_a"),S()})),h.addEventListener("input",(()=>{const e=x().quantity;Number(h.value)>e&&(h.value=e),i.textContent="$"+Number(h.value)*Number(a.value)})),c.addEventListener("input",(()=>S())),d.addEventListener("pointerover",(()=>E())),d.addEventListener("pointerleave",(()=>E())),d.addEventListener("click",(()=>A())),l.addEventListener("click",(()=>A())),v.addEventListener("click",(function(){const e=x();e.quantity-Number(h.value)<0||!e.quantity||(n.cart.find((t=>t.type===e.type))?function(e){const t=e=>({...e,quantity:e.quantity+Number(h.value)});n.cart=n=>n.map((n=>n.type===e.type?t(n):n))}(e):function(e){n.cart=t=>t.concat({...e,quantity:Number(h.value)})}(e),n.notify(u((e=>({en:`Added ${e.name.en} to cart`,fr:`Ajouté des ${e.name.fr} au panier`}))(e)),"green",(()=>location.assign(u({en:"/cart",fr:"/fr/panier"})))),v.blur())})),y.addEventListener("click",(()=>location.assign(u({en:"/cart",fr:"/fr/panier"})))),n.addHook({hook:S,key:"inv"}),n.addHook({hook:I,key:"cart"})}(),function(){if(!e("place-order"))return;0===n.cart.length&&location.assign("/");const i=e("checkout-name"),s=e("checkout-email"),r=e("checkout-street"),c=e("checkout-city"),l=e("checkout-state"),p=e("checkout-state-text"),v=e("checkout-country"),y=e("checkout-zip"),_=e("checkout-zip-text"),g=e("stripe-payment-modal"),b=e("stripe-payment-form"),k=e("pay-button"),C=e("card-error"),L=e("spinner"),x=e("button-text"),$=e("checkout-form"),N=e("cancel"),E=e("checkout-subtotal"),A=e("checkout-tax"),w=e("checkout-total"),I=e("checkout-product-template"),S=e("checkout-products"),M={Canada:{en:["Province","Postal Code"],fr:["Province","Code postal"]},"United States":{en:["State","Zip"],fr:["État","Code postal"]}};let q=!1;function T(e){e?(k.disabled=!0,L.classList.remove("hidden"),x.classList.add("hidden")):(k.disabled=!1,L.classList.add("hidden"),x.classList.remove("hidden"))}function z(){const e=n.cart.reduce(((e,t)=>e+t.price*t.quantity),0),t=e*((e,t)=>{if("Canada"!==e)return.05;switch(t){case"New Brunswick":case"Newfoundland and Labrador":case"Nova Scotia":case"Prince Edward Island":return.15;case"Ontario":return.13;default:return.05}})(v.value,l.value),a=e+t;E.textContent=`$${e.toFixed(2)}`,A.textContent=`$${t.toFixed(2)}`,w.textContent=`$${a.toFixed(2)}`}function O(e,t=[],n){e.textContent="",t.forEach((t=>{e.appendChild(new a("option",null,{value:n(t)}).addChild(n(t)).render())}))}function U(t){T(!1),t?(document.body.classList.add("hide-y"),e("blur").classList.add("blur"),g.classList.add("show-modal"),k.disabled=!0,e("payment-price").textContent=w.textContent):(document.body.classList.remove("hide-y"),e("blur").classList.remove("blur"),g.classList.remove("show-modal"),0===n.cart.length&&location.assign(u({en:"/thanks",fr:"/fr/merci"})))}async function P(){U(!0),T(!0);const a={lang:d(),update:n.secret,name:i.value,email:s.value,streetAddress:r.value,city:c.value,country:v.value,state:l.value,zip:y.value,items:n.cart.map((e=>({images:e.images,type:e.type,prefix:e.prefix,size:e.size,name:e.name,color:e.color,quantity:e.quantity})))};fetch(`${t}/orders/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((e=>e.json())).then((t=>{n.secret=t.clientSecret,n.order={id:t.id,name:t.name,email:t.email},e("payment-price").textContent=`$${t.total.toFixed(2)}`,function(t){if(q)return;q=!0;const a=m.elements(),i={base:{color:"#1a171b",fontFamily:"Nunito, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#1a171b"}},invalid:{fontFamily:"Nunito, sans-serif",color:"#fa755a",iconColor:"#fa755a"}},s=a.create("card",{style:i});s.mount("#card-element"),s.on("change",(e=>{k.disabled=e.empty,C.textContent=e.error?e.error.message:""})),b.addEventListener("submit",(a=>{a.preventDefault(),function(t,a,i){T(!0),t.confirmCardPayment(i,{payment_method:{card:a}}).then((t=>{return t.error?(a=t.error.message,T(!1),C.textContent=a,void setTimeout((()=>{C.textContent=""}),4e3)):(T(!1),n.cart=()=>[],n.secret=null,e("result-message").classList.remove("hidden"),k.disabled=!0,N.textContent="close",void o(N,"btn__secondary","btn__primary"));var a}))}(m,s,t.clientSecret)}))}(t),T(!1)}))}function j(){const e=v.value;l.textContent="",O(l,n.countries[e].states,(e=>e.name)),p.textContent=M[e][d()][0],_.textContent=M[e][d()][1],y.setAttribute("pattern","Canada"===e?h.source:f.source),y.setAttribute("maxlength","Canada"===e?"7":"10"),y.setAttribute("size","Canada"===e?"7":"10"),z()}z(),function(){const e=new DocumentFragment;n.cart.forEach((t=>{const a=I.content.cloneNode(!0),o=a.querySelector("a"),i=a.querySelector("img"),s=a.querySelector("p"),r=d();return o.href=`/products/${t.name.en.toLowerCase().split(" ").join("-")}${"en"!==r?`-${r}`:""}.html`,o.addEventListener("click",(()=>n.currentItem={type:t.type,color:t.color,size:t.size})),i.src=t.images.sm_a,s.textContent=`${t.name[r]} (${t.size}) - ${t.quantity} x $${t.price}`,e.appendChild(a)})),S.appendChild(e)}(),O(v,Object.keys(n.countries),(e=>e)),j(),$.addEventListener("submit",(e=>{e.preventDefault(),P()})),N.addEventListener("click",(()=>U(!1))),v.addEventListener("input",(()=>j())),l.addEventListener("input",(()=>z())),y.addEventListener("input",(e=>{e.target.value=function(e){const t=e.toUpperCase();return"Canada"===v.value?6===t.length&&h.test(t)?t.substring(0,3)+" "+t.substring(3,6):t:6===t.length&&"-"!==t[5]?t.substring(0,5):t}(e.target.value,v.value)}))}(),function(){const t=e("cart-checkout");if(!t)return;const a=e("cart-subtotal"),o=e("cart-products"),i=e("cart-product-template"),s=e("cart-products-none");function r(){a.innerText=`$${n.cart.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)}`,n.cart.length>0?t.disabled=!1:t.disabled=!0}function c(){if(!n.cart.length)return s.style.display="block",r();s.style.display="none";const e=new DocumentFragment;return n.cart.forEach((t=>function(e,t){const a=i.content.cloneNode(!0),o=a.querySelector(".cart__product"),s=a.querySelector("a"),l=a.querySelector("img"),m=a.querySelector("p"),h=a.querySelector("span"),f=a.querySelector(".input"),p=a.querySelector("label"),v=a.querySelector("button"),y=d();return s.href=`/products/${e.name.en.toLowerCase().split(" ").join("-")}${"en"!==y?`-${y}`:""}.html`,s.addEventListener("click",(()=>n.currentItem={type:e.type,color:e.color,size:e.size})),l.src=e.images.sm_a,l.alt=`${e.name[y]} ${e.size} ${e.color} underwear`,m.textContent=`${e.name[y]} (${e.size})`,h.textContent="$"+e.price*e.quantity,f.value=e.quantity,f.id=e.type,f.setAttribute("name",`${e.name[y]} ${e.size} ${e.color}`),p.setAttribute("for",e.type),f.addEventListener("input",(()=>{f.value||(f.value=1);const t=n.inv.find((t=>t.type===e.type)).quantity;Number(f.value)>t&&(f.value=t),n.cart=t=>t.map((t=>t.id===e.id?{...t,quantity:Number(f.value)}:t)),h.textContent="$"+e.price*Number(f.value),r()})),v.setAttribute("aria-label",u((e=>({en:`Remove ${e.name.en} (size: ${e.size} quantity: ${e.quantity}) from cart`,fr:`Retirer ${e.name.fr} (taille: ${e.size} quantité: ${e.quantity}) du panier`}))(e))),v.addEventListener("click",(()=>{n.cart=t=>t.filter((t=>t.id!==e.id)),o.remove(),r(),n.notify(u((e=>({en:`Removed ${e.name.en} from cart`,fr:`${e.name.fr} retiré du panier`}))(e)),"red",(()=>location.assign(s.href))),!n.cart.length&&c()})),t.appendChild(a)}(t,e))),o.appendChild(e),r()}c(),t.addEventListener("click",(()=>{n.cart.length>0&&location.assign(u({en:"/checkout",fr:"/fr/la-caisse"}))}))}(),function(){const t=e("nav"),a=e("cart-link"),s=e("cart-link-mobile"),r=e("menu-mobile-list"),c=e("menu-mobile-btn"),d=e("skip-link"),l=e("main-content"),m=e("back-to-top"),h={en:"cart",fr:"panier"},f=(()=>{let e=!1;return()=>(e=!e)?(r.classList.remove("hide"),void document.body.classList.add("hide-y")):(r.classList.add("hide"),void document.body.classList.remove("hide-y"))})(),p=(()=>{let e=!0,t=!1;return()=>t?t=!0:setTimeout((()=>{const n=window.scrollY>400;n&&e&&(m.classList.add("show"),e=!1),n||e||(m.classList.remove("show"),e=!0),t=!1}),100)})(),v=(()=>{const e=function*(){let e=0,t=0;for(;;)[e,t]=[t,window.scrollY],yield t-e}(),n=(e,n,a)=>i=>o(t,e,n,[a,i]),a=n("slide-up","slide-down",(()=>c=!1)),i=n("slide-down","slide-up",(()=>c=!0)),s=()=>r=!1;let r=!1,c=!1;return(t=!1)=>{const n=window.scrollY<100||e.next().value<=0;if(t)return a((()=>!0));r?r=!0:setTimeout((()=>n&&c?a(s):n||c?void 0:i(s)),100)}})();function y({cart:e}){e.length>0?i([a,s],`${u(h)} (${e.reduce(((e,t)=>e+t.quantity),0)})`):i([a,s],u(h))}y({cart:n.cart}),c.addEventListener("click",f),d.addEventListener("click",(()=>{l.focus()})),r.addEventListener("click",(()=>f())),t.addEventListener("focusin",(()=>v(!0))),t.addEventListener("focusout",(()=>v(!1))),m.addEventListener("click",(()=>{window.scroll({top:0}),m.blur()})),n.addHook({hook:y,key:"cart"}),document.addEventListener("scroll",(()=>{v(),p()}))}(),(()=>{class e extends HTMLElement{constructor(){super(),this._images=new Array(Number(this.getAttribute("num-images"))).fill("").map(((e,t)=>`${this.getAttribute("image-path")}${t}.jpg`)),this._images.forEach((e=>s(e))),this._currentImage=1,this._imageEl=new a("img","section__hero_image",{src:this._images[this._currentImage],alt:this.getAttribute("alt"),title:this.getAttribute("title")}).render(),this._roundedBottom=new a("div",["bg-light","rounded-big-top","absolute","b-0","l-0"]).render(),this.appendChild(this._imageEl),this.appendChild(this._roundedBottom),this.classList.add("section__hero"),setInterval((()=>{this._imageEl.src=this._images[this.getCurrentImage()]}),4500)}getCurrentImage(){return this._currentImage===this._images.length-1?this._currentImage=0:++this._currentImage}}customElements.get("hero-image")||customElements.define("hero-image",e)})(),function(){const t=e("order-id");if(!t)return;n.order||location.assign("/");const a=e("user-name"),o=e("user-email"),i=n.order;t.textContent=i.id,a.textContent=i.name.split(" ")[0],o.textContent=i.email}(),function(){const n=e("contact-form");if(!n)return;const a=e("contact-name"),o=e("contact-email"),i=e("contact-message"),s=e("contact-button"),r=[a,o,i,s],c=function(){const t=e("modal");if(!t)return;const n=e("modal-heading"),a=e("modal-text"),o=e("modal-ok"),i=e("modal-cancel"),s=e("blur"),r=e("nav");function c(){s.classList.remove("blur"),r.classList.remove("blur"),document.body.classList.remove("hide-y"),i.classList.add("hidden"),t.classList.add("hidden"),n.textContent="",a.textContent="",o.textContent="",i.textContent=""}return function(e){e&&(s.classList.add("blur"),r.classList.add("blur"),document.body.classList.add("hide-y"),t.classList.remove("hidden"),n.textContent=e.heading,a.textContent=e.text,o.textContent=e.ok.text,o.addEventListener("click",(()=>c())),e.cancel?(i.classList.remove("hidden"),i.textContent=e.cancel.text,i.addEventListener("click",(()=>c())),i.focus()):o.focus())}}(),u={en:{error:["Error","ok"],default:["Success","ok","cancel"],message:(e,t)=>`Thanks for your message, ${e}! We'll get back to you at ${t} as soon as possible.`},fr:{error:["Error","ok"],default:["Succès","ok","annuler"],message:(e,t)=>`Merci pour votre message ${e}! Nous vous rappelleons à votre courriel ${t} dans les plus brefs délais.`}};n.addEventListener("submit",(e=>{e.preventDefault();const n={name:a.value,email:o.value,message:i.value};r.forEach((e=>{e.value="",e.disabled=!0})),fetch(`${t}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{r.forEach((e=>{e.disabled=!1})),e.error?c({heading:u[d()].error[0],text:e.error,ok:{text:u[d()].error[1]}}):c({heading:u[d()].default[0],text:u[d()].message(e.name,e.email),ok:{text:u[d()].default[1]}})})).catch((e=>console.log(e)))}))}(),function(){const t=e("notification");if(!t)return;const a=e("notification-text");function i(e){a.textContent="",o(t,e,"hidden")}n.setNotify(((e,s,r)=>{n.currentNotification&&clearTimeout(n.currentNotification),function(e,n){a.textContent=e,o(t,"hidden",n)}(e,s),n.currentNotification=setTimeout((()=>i(s)),4e3),t.addEventListener("mouseenter",(()=>clearTimeout(n.currentNotification))),t.addEventListener("mouseleave",(()=>setTimeout((()=>i()),2e3))),t.onclick=()=>r()}))}()}();
